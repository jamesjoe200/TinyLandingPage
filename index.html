
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>IHU Launcher</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #111;
      color: #eee;
      padding: 20px;
    }
    h1 {
      color: #4CAF50;
    }
    ul {
      list-style: none;
      padding: 0;
    }
    li {
      margin: 10px 0;
    }
    a {
      color: #00aaff;
      text-decoration: none;
      font-size: 18px;
    }
    a:hover {
      color: #ff8800;
    }
  </style>
</head>
<body>
  <h1>🚗 IHU Tools Launcher</h1>
  <p>Click any link below to test functions:</p>

  <h1>🚗 IHU Toolbox</h1>

  <!-- Navigation Controls -->
  <button onclick="window.history.back()">⬅️ Back</button>
  <button onclick="window.history.forward()">➡️ Forward</button>
  <button onclick="location.reload()">🔄 Reload</button>

  <hr>

  <!-- Scheme Tests -->
  <h2>Scheme Tests</h2>
  <a href="tel:12345">📞 Test tel://</a>
  <a href="mailto:test@example.com">✉️ Test mailto://</a>
  <a href="geo:37.7749,-122.4194">📍 Test geo://</a>
  <a href="market://details?id=com.example.app">🛒 Test market://</a>
  <a href="content://settings/system">⚙️ Test content://</a>
  <a href="intent://scan/#Intent;scheme=zxing;package=com.google.zxing.client.android;end">📲 Test intent://</a>

  <hr>

  <!-- LAN Tests -->
  <h2>Local/LAN Tests</h2>
  <a href="http://192.168.0.1">🌐 Router (192.168.0.1)</a>
  <a href="http://10.0.0.2">🌐 Test Local Server</a>

  <hr>

  <!-- Simple Web Apps -->
  <h2>Web Apps</h2>
  <a href="notepad.html">📝 Notepad</a>
  <a href="calc.html">🧮 Calculator</a>
  <a href="maps.html">🗺️ Offline Map (if hosted)</a>

  <h2>⚙️ Android Settings</h2>
    <ul>
      <li><a href="intent:#Intent;action=android.settings.SETTINGS;end">Main Settings</a></li>
      <li><a href="intent:#Intent;action=android.settings.WIFI_SETTINGS;end">Wi-Fi Settings</a></li>
      <li><a href="intent:#Intent;action=android.settings.BLUETOOTH_SETTINGS;end">Bluetooth Settings</a></li>
      <li><a href="intent:#Intent;action=android.settings.DATE_SETTINGS;end">Date & Time</a></li>
      <li><a href="intent:#Intent;action=android.settings.SECURITY_SETTINGS;end">Security Settings</a></li>
      <li><a href="intent:#Intent;action=android.settings.APPLICATION_SETTINGS;end">App Management</a></li>
      <li><a href="intent:#Intent;action=android.settings.ABOUT_SETTINGS;end">About Device</a></li>
      <li><a href="intent:#Intent;action=android.settings.DEVICE_INFO_SETTINGS;end">Device Info</a></li>
    </ul>

  <h2>🌐 Browser & Apps</h2>
    <ul>
      <li><a href="http://www.google.com">Google Search</a></li>
      <li><a href="intent:#Intent;action=android.intent.action.MAIN;category=android.intent.category.APP_BROWSER;end">Default Browser</a></li>
      <li><a href="intent:#Intent;action=android.intent.action.MAIN;category=android.intent.category.APP_MARKET;end">Google Play Store</a></li>
      <li><a href="intent:#Intent;action=android.intent.action.MAIN;category=android.intent.category.APP_YOUTUBE;end">YouTube App</a></li>
    </ul>

  <h2>📥 APK Installs (WIP)</h2>
  <ul>
    <a href="market://details?id=com.android.settings">Open Settings</a><br>
    <a href="https://f-droid.org/F-Droid.apk">Download F-Droid</a><br>
    <a href="https://apkpure.com/whatsapp/com.whatsapp/download">Download WhatsApp</a>
  </ul>

  <h2>🔧 Other Tools</h2>
  <ul>
    <li><a href="https://www.waze.com/en-GB/live-map">Waze Map</a></li>
    <li><a href="https://www.google.com/maps">Google Map</a></li>
    <li><a href="https://www.google.com">Google</a></li>
  </ul>

  <p><small>Tip: Some intents may not work depending on Android version / manufacturer restrictions.</small></p>

    <h2>WebUSB/WebSerial test</h2>
  <button id="usbBtn">Test WebUSB</button>
  <button id="serialBtn">Test WebSerial</button>
  <pre id="out"></pre>

  <script>
    const out = id => document.getElementById('out').textContent += id + "\n";
    
    document.getElementById('usbBtn').onclick = async () => {
      if (!('usb' in navigator)) { out('WebUSB not supported'); return; }
      out('WebUSB supported, requesting devices...');
      try {
        const device = await navigator.usb.requestDevice({ filters: [] });
        out('User granted device: ' + device.productName + ' (' + device.vendorId.toString(16) + ':' + device.productId.toString(16) + ')');
      } catch (e) { out('WebUSB request failed/cancelled: ' + e); }
    };
    
    document.getElementById('serialBtn').onclick = async () => {
      if (!('serial' in navigator)) { out('WebSerial not supported'); return; }
      out('WebSerial supported, requesting port...');
      try {
        const port = await navigator.serial.requestPort();
        out('User granted serial port');
      } catch (e) { out('WebSerial request failed/cancelled: ' + e); }
    };
  </script>

  <h2>Browser Info</h2>
  <pre id="info"></pre>
  <h2>Feature Support</h2>
  <pre id="features"></pre>

  <script>
    function dump(obj, depth=0) {
      let out = '';
      for (let k in obj) {
        try {
          let v = obj[k];
          if (typeof v === 'object' && depth < 1) {
            out += k + ':\n' + dump(v, depth+1);
          } else {
            out += k + ': ' + v + '\n';
          }
        } catch (e) {}
      }
      return out;
    }
    
    let s = "";
    s += "User Agent: " + navigator.userAgent + "\n";
    s += "App Name: " + navigator.appName + "\n";
    s += "App Version: " + navigator.appVersion + "\n";
    s += "Platform: " + navigator.platform + "\n";
    s += "Vendor: " + navigator.vendor + "\n";
    s += "Language: " + navigator.language + "\n\n";
    
    s += "Full navigator dump:\n";
    s += dump(navigator);
    
    document.getElementById("info").textContent = s;
  </script>
  <script>
    // --- Script 2: Check feature support ---
    let features = [
      "serviceWorker", "bluetooth", "usb", "serial", 
      "mediaDevices", "getUserMedia", "localStorage",
      "indexedDB", "speechSynthesis"
    ];
    let out = "Feature support:\n";
    features.forEach(f => {
      out += f + ": " + (f in navigator) + "\n";
    });
    document.getElementById("features").textContent = out;
  </script>

  <script>
    function openSafe(url) {
      try {
        window.location.href = url;
        // give 2 seconds to try before redirecting
        setTimeout(function () {
          if (document.visibilityState === "visible") {
            window.location.href = "error.html";
          }
        }, 2000);
      } catch (e) {
        window.location.href = "error.html";
      }
    }
  </script>
</body>
</html>
