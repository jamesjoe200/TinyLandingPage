
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>IHU Launcher</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #111;
      color: #eee;
      padding: 20px;
    }
    h1 {
      color: #4CAF50;
    }
    ul {
      list-style: none;
      padding: 0;
    }
    li {
      margin: 10px 0;
    }
    a {
      color: #00aaff;
      text-decoration: none;
      font-size: 18px;
    }
    a:hover {
      color: #ff8800;
    }
  </style>
</head>
<body>
  <h1>üöó IHU Tools Launcher</h1>
  <p>Click any link below to test functions:</p>

  <h1>üöó IHU Toolbox</h1>

  <!-- Navigation Controls -->
  <button onclick="window.history.back()">‚¨ÖÔ∏è Back</button>
  <button onclick="window.history.forward()">‚û°Ô∏è Forward</button>
  <button onclick="location.reload()">üîÑ Reload</button>

  <hr>

  <!-- Scheme Tests -->
  <h2>Scheme Tests</h2>
  <a href="tel:12345">üìû Test tel://</a>
  <a href="mailto:test@example.com">‚úâÔ∏è Test mailto://</a>
  <a href="geo:37.7749,-122.4194">üìç Test geo://</a>
  <a href="market://details?id=com.example.app">üõí Test market://</a>
  <a href="content://settings/system">‚öôÔ∏è Test content://</a>
  <a href="intent://scan/#Intent;scheme=zxing;package=com.google.zxing.client.android;end">üì≤ Test intent://</a>

  <hr>

  <!-- LAN Tests -->
  <h2>Local/LAN Tests</h2>
  <a href="http://192.168.0.1">üåê Router (192.168.0.1)</a>
  <a href="http://10.0.0.2">üåê Test Local Server</a>

  <hr>

  <!-- Simple Web Apps -->
  <h2>Web Apps</h2>
  <a href="notepad.html">üìù Notepad</a>
  <a href="calc.html">üßÆ Calculator</a>
  <a href="maps.html">üó∫Ô∏è Offline Map (if hosted)</a>

  <h2>‚öôÔ∏è Android Settings</h2>
    <ul>
      <li><a href="intent:#Intent;action=android.settings.SETTINGS;end">Main Settings</a></li>
      <li><a href="intent:#Intent;action=android.settings.WIFI_SETTINGS;end">Wi-Fi Settings</a></li>
      <li><a href="intent:#Intent;action=android.settings.BLUETOOTH_SETTINGS;end">Bluetooth Settings</a></li>
      <li><a href="intent:#Intent;action=android.settings.DATE_SETTINGS;end">Date & Time</a></li>
      <li><a href="intent:#Intent;action=android.settings.SECURITY_SETTINGS;end">Security Settings</a></li>
      <li><a href="intent:#Intent;action=android.settings.APPLICATION_SETTINGS;end">App Management</a></li>
      <li><a href="intent:#Intent;action=android.settings.ABOUT_SETTINGS;end">About Device</a></li>
      <li><a href="intent:#Intent;action=android.settings.DEVICE_INFO_SETTINGS;end">Device Info</a></li>
    </ul>

  <h2>üåê Browser & Apps</h2>
    <ul>
      <li><a href="http://www.google.com">Google Search</a></li>
      <li><a href="intent:#Intent;action=android.intent.action.MAIN;category=android.intent.category.APP_BROWSER;end">Default Browser</a></li>
      <li><a href="intent:#Intent;action=android.intent.action.MAIN;category=android.intent.category.APP_MARKET;end">Google Play Store</a></li>
      <li><a href="intent:#Intent;action=android.intent.action.MAIN;category=android.intent.category.APP_YOUTUBE;end">YouTube App</a></li>
    </ul>

  <h2>üì• APK Installs (WIP)</h2>
  <ul>
    <a href="market://details?id=com.android.settings">Open Settings</a><br>
    <a href="https://f-droid.org/F-Droid.apk">Download F-Droid</a><br>
    <a href="https://apkpure.com/whatsapp/com.whatsapp/download">Download WhatsApp</a>
  </ul>

  <h2>üîß Other Tools</h2>
  <ul>
    <li><a href="https://www.waze.com/en-GB/live-map">Waze Map</a></li>
    <li><a href="https://www.google.com/maps">Google Map</a></li>
    <li><a href="https://www.google.com">Google</a></li>
  </ul>

  
  <h2>EXTRA STUFF (WIP_CODEDUMP)Common / standard schemes</h2>
  <div class="row">
    <a href="#" class="link" onclick="openAndWatch('http://example.com')">http://example.com</a>
    <a href="#" class="link" onclick="openAndWatch('https://example.com')">https://example.com</a>
    <a href="#" class="link" onclick="openAndWatch('file:///sdcard/index.html')">file:///sdcard/index.html</a>
    <a href="#" class="link" onclick="openAndWatch('content://settings/system')">content://settings/system</a>
    <a href="#" class="link" onclick="openAndWatch('about:blank')">about:blank</a>
    <a href="#" class="link" onclick="openAndWatch('about:version')">about:version</a>
    <a href="#" class="link" onclick="openAndWatch('chrome://version')">chrome://version</a>
  </div>

  <h2>Phone / messaging / mail</h2>
  <div class="row">
    <a href="#" class="link" onclick="openAndWatch('tel:+123456789')">tel:+123456789</a>
    <a href="#" class="link" onclick="openAndWatch('sms:+123456789')">sms:+123456789</a>
    <a href="#" class="link" onclick="openAndWatch('mailto:test@example.com')">mailto:test@example.com</a>
  </div>

  <h2>Maps / geo / navigation</h2>
  <div class="row">
    <a href="#" class="link" onclick="openAndWatch('geo:37.7749,-122.4194')">geo:lat,long</a>
    <a href="#" class="link" onclick="openAndWatch('google.navigation:q=37.7749,-122.4194')">google.navigation:q=lat,long</a>
    <a href="#" class="link" onclick="openAndWatch('maps://maps.google.com/?q=1')">maps://</a>
  </div>

  <h2>Market / Play store / app URIs</h2>
  <div class="row">
    <a href="#" class="link" onclick="openAndWatch('market://details?id=com.android.chrome')">market:// (Chrome)</a>
    <a href="#" class="link" onclick="openAndWatch('intent:#Intent;action=android.intent.action.MAIN;category=android.intent.category.APP_BROWSER;end')">intent: MAIN browser</a>
    <a href="#" class="link" onclick="openAndWatch('intent://#Intent;action=android.settings.SETTINGS;end')">intent: SETTINGS (generic)</a>
  </div>

  <h2>Android settings actions (standard)</h2>
  <div class="row">
    <a href="#" class="link small" onclick="openAndWatch('intent:#Intent;action=android.settings.SETTINGS;end')">android.settings.SETTINGS</a>
    <a href="#" class="link small" onclick="openAndWatch('intent:#Intent;action=android.settings.WIFI_SETTINGS;end')">WIFI_SETTINGS</a>
    <a href="#" class="link small" onclick="openAndWatch('intent:#Intent;action=android.settings.BLUETOOTH_SETTINGS;end')">BLUETOOTH_SETTINGS</a>
    <a href="#" class="link small" onclick="openAndWatch('intent:#Intent;action=android.settings.DATE_SETTINGS;end')">DATE_SETTINGS</a>
    <a href="#" class="link small" onclick="openAndWatch('intent:#Intent;action=android.settings.APPLICATION_SETTINGS;end')">APPLICATION_SETTINGS</a>
    <a href="#" class="link small" onclick="openAndWatch('intent:#Intent;action=android.settings.ABOUT_SETTINGS;end')">ABOUT_SETTINGS</a>
    <a href="#" class="link small" onclick="openAndWatch('intent:#Intent;action=android.settings.SECURITY_SETTINGS;end')">SECURITY_SETTINGS</a>
  </div>

  <h2>Legacy / file-serving / FTP / SMB</h2>
  <div class="row">
    <a href="#" class="link" onclick="openAndWatch('ftp://speedtest.tele2.net/1MB.zip')">ftp:// (test)</a>
    <a href="#" class="link" onclick="openAndWatch('smb://192.168.0.10/share')">smb://</a>
  </div>

  <h2>Developer / debug / vendor-style</h2>
  <div class="row">
    <a href="#" class="link" onclick="openAndWatch('about:debug')">about:debug</a>
    <a href="#" class="link" onclick="openAndWatch('acotech://settings')">acotech://settings</a>
    <a href="#" class="link" onclick="openAndWatch('ecarx://settings')">ecarx://settings</a>
    <a href="#" class="link" onclick="openAndWatch('atlas://settings')">atlas://settings</a>
    <a href="#" class="link" onclick="openAndWatch('carlinkit://')">carlinkit://</a>
    <a href="#" class="link" onclick="openAndWatch('autokit://')">autokit://</a>
    <a href="#" class="link" onclick="openAndWatch('com.ecarx.settings://')">com.ecarx.settings://</a>
  </div>

  <h2>Experimental / installer / package</h2>
  <div class="row">
    <a href="#" class="link" onclick="openAndWatch('file:///sdcard/Download/test.apk')">file:///sdcard/Download/test.apk</a>
    <a href="#" class="link" onclick="openAndWatch('intent://sdcard/Download/test.apk#Intent;scheme=file;action=android.intent.action.VIEW;type=application/vnd.android.package-archive;end')">intent: file apk</a>
    <a href="#" class="link" onclick="openAndWatch('https://example.com/test.apk')">https://example.com/test.apk</a>
  </div>
  <h3>Diagnostics</h3>
  <pre id="log">Click a link and observe the result. Each click logs a timestamp. If nothing happens the page will fallback to <code>error.html</code> after 2s.</pre>

  <script>
    // generic navigation helper: try go to URL; if after timeout nothing changed, go to error.html
    function openAndWatch(url) {
      // log attempt
      const l = document.getElementById('log');
      const t = new Date().toISOString();
      l.textContent += "\\n" + t + " -> " + url;
  
      // open by setting location (some browsers will replace page)
      try {
        window.location.href = url;
      } catch (e) {
        // fail fast
        window.location.href = 'error.html';
        return;
      }
  
      // fallback: after 1.8s assume nothing happened and open error page
      // (slightly less than 2s to avoid race on slower browsers)
      const timeout = setTimeout(function(){
        // if still on this page then navigate to error.html
        if (document.visibilityState === 'visible') {
          window.location.href = 'error.html';
        }
      }, 1800);
  
      // if page is hidden / navigated away, clear fallback
      document.addEventListener('visibilitychange', function onVis(){
        if (document.visibilityState !== 'visible') {
          clearTimeout(timeout);
          document.removeEventListener('visibilitychange', onVis);
        }
      });
    }
  
    function goBack(){ try{ history.back(); }catch(e){ location.href='index.html'; } }
    function goForward(){ try{ history.forward(); }catch(e){ } }
  </script>

  <p><small>Tip: Some intents may not work depending on Android version / manufacturer restrictions.</small></p>

    <h2>WebUSB/WebSerial test</h2>
  <button id="usbBtn">Test WebUSB</button>
  <button id="serialBtn">Test WebSerial</button>
  <pre id="out"></pre>

  <script>
    const out = id => document.getElementById('out').textContent += id + "\n";
    
    document.getElementById('usbBtn').onclick = async () => {
      if (!('usb' in navigator)) { out('WebUSB not supported'); return; }
      out('WebUSB supported, requesting devices...');
      try {
        const device = await navigator.usb.requestDevice({ filters: [] });
        out('User granted device: ' + device.productName + ' (' + device.vendorId.toString(16) + ':' + device.productId.toString(16) + ')');
      } catch (e) { out('WebUSB request failed/cancelled: ' + e); }
    };
    
    document.getElementById('serialBtn').onclick = async () => {
      if (!('serial' in navigator)) { out('WebSerial not supported'); return; }
      out('WebSerial supported, requesting port...');
      try {
        const port = await navigator.serial.requestPort();
        out('User granted serial port');
      } catch (e) { out('WebSerial request failed/cancelled: ' + e); }
    };
  </script>

  <h2>Browser Info</h2>
  <pre id="info"></pre>
  <h2>Feature Support</h2>
  <pre id="features"></pre>

  <script>
    function dump(obj, depth=0) {
      let out = '';
      for (let k in obj) {
        try {
          let v = obj[k];
          if (typeof v === 'object' && depth < 1) {
            out += k + ':\n' + dump(v, depth+1);
          } else {
            out += k + ': ' + v + '\n';
          }
        } catch (e) {}
      }
      return out;
    }
    
    let s = "";
    s += "User Agent: " + navigator.userAgent + "\n";
    s += "App Name: " + navigator.appName + "\n";
    s += "App Version: " + navigator.appVersion + "\n";
    s += "Platform: " + navigator.platform + "\n";
    s += "Vendor: " + navigator.vendor + "\n";
    s += "Language: " + navigator.language + "\n\n";
    
    s += "Full navigator dump:\n";
    s += dump(navigator);
    
    document.getElementById("info").textContent = s;
  </script>
  <script>
    // --- Script 2: Check feature support ---
    let features = [
      "serviceWorker", "bluetooth", "usb", "serial", 
      "mediaDevices", "getUserMedia", "localStorage",
      "indexedDB", "speechSynthesis"
    ];
    let out = "Feature support:\n";
    features.forEach(f => {
      out += f + ": " + (f in navigator) + "\n";
    });
    document.getElementById("features").textContent = out;
  </script>

  <script>
    function openSafe(url) {
      try {
        window.location.href = url;
        // give 2 seconds to try before redirecting
        setTimeout(function () {
          if (document.visibilityState === "visible") {
            window.location.href = "error.html";
          }
        }, 2000);
      } catch (e) {
        window.location.href = "error.html";
      }
    }
  </script>
</body>
</html>
